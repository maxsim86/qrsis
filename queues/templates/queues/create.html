{% extends 'base.html' %}
{% block content %}

<style>
    .form-control-custom {
        background-color: #f3f4f6; /* Warna kelabu cair */
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 12px 15px;
        font-size: 1rem;
    }
    .form-control-custom:focus {
        background-color: #fff;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        border-color: #3b82f6;
    }
    .btn-custom {
        background-color: #93c5fd; /* Warna biru muda seperti screenshot */
        border: none;
        color: white;
        font-weight: 600;
        padding: 12px;
        border-radius: 8px;
        width: 100%;
    }
    .btn-custom:hover {
        background-color: #60a5fa;
    }
    .logo-container {
        background-color: #dbeafe; /* Latar biru sangat cair */
        width: 80px;
        height: 80px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
    }
</style>

<div class="container d-flex flex-column justify-content-center align-items-start mt-5" style="max-width: 600px;">
    
    <div class="logo-container">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#1e1e1e" class="bi bi-qr-code-scan" viewBox="0 0 16 16">
            <path d="M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0v-3Zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1 0-1Zm-5 1a.5.5 0 0 1 .5-.5h2.5a.5.5 0 0 1 0 1h-2.5a.5.5 0 0 1-.5-.5Zm-5 13a.5.5 0 0 1 .5.5h2.5a.5.5 0 0 1 0-1H1v-2.5a.5.5 0 0 1-1 0v3a.5.5 0 0 1 .5.5Zm13 0a.5.5 0 0 1-.5.5H12a.5.5 0 0 1 0-1h2.5v-2.5a.5.5 0 0 1 1 0v3Z"/>
            <path d="M10.5 7a.5.5 0 0 1 .5.5v2.5a.5.5 0 0 1-1 0V8h-2.5a.5.5 0 0 1 0-1h3Zm-6 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V8H1.5a.5.5 0 0 1 0-1h3Z"/>
            <path d="M4 4h3v3H4V4Zm5 0h3v3H9V4ZM4 9h3v3H4V9Zm5 0h3v3H9V9Z"/>
        </svg>
    </div>

    <h2 class="fw-bold mb-3">Create Queue</h2>
    <p class="text-muted mb-4">
        Come up with the name for your queue. It could be the name of your shop 
        (e.g., "<i>Pollock's Toyshop</i>") or service (e.g., "<i>Residence Registration</i>").
    </p>

    <form method="POST" style="width: 100%;">
        {% csrf_token %}
        
        <div class="mb-4">
            <input type="text" name="name" class="form-control form-control-custom" placeholder="Queue name" required>
        </div>

        <div class="form-check form-switch mb-2">
    <input class="form-check-input" type="checkbox" name="ask_input" id="inputToggle" style="width: 3em; height: 1.5em; margin-right: 15px; cursor: pointer;">
    
    <label class="form-check-label pt-1 fw-semibold" for="inputToggle">
        Ask for visitor input
    </label>
</div>

        <p class="text-muted small mb-4">
            You can ask visitors to input some information when they are joining the queue â€” 
            it might be: name, contact info, vehicle plate number, etc.
        </p>

        <div id="extraInputSection" style="display: none;">
            <div class="mb-4">
                <input type="text" name="label" class="form-control form-control-custom" placeholder="Visitor input prompt, e.g.: &quot;Enter your name&quot;">
            </div>
        </div>

        <button type="submit" class="btn btn-custom mb-4">Create</button>

        <div class="d-flex gap-3">
            <a href="#" class="text-decoration-underline text-primary">How does it work?</a>
            <a href="#" class="text-decoration-underline text-primary">Chat with support</a>
        </div>
    </form>
</div>

<script>
    // Dapatkan elemen dari HTML
    const toggle = document.getElementById('inputToggle');
    const extraSection = document.getElementById('extraInputSection');
    const labelInput = extraSection.querySelector('input');

    // Dengar event 'change' (bila user klik toggle)
    toggle.addEventListener('change', function() {
        if (this.checked) {
            // Kalau ON: Tunjuk input box
            extraSection.style.display = 'block';
            labelInput.required = true; // Paksa isi jika toggle ON
        } else {
            // Kalau OFF: Sorok input box
            extraSection.style.display = 'none';
            labelInput.required = false; // Tak perlu isi jika OFF
            labelInput.value = ''; // Kosongkan value (optional)
        }
    });
</script>

{% endblock %}