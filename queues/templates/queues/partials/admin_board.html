<div id="status-card-area" class="status-card" hx-swap-oob="true">
    <div class="status-label">Pelawat terakhir yang dipanggil</div>
    <div class="status-number" id="display-number">
        {% if current_serving %}
            {{ current_serving.ticket_number }}
        {% else %}
            --
        {% endif %}
    </div>
    <div class="status-sub">
        Menunggu: <strong>{{ waiting_count }}</strong>
    </div>
</div>

<div id="controls-area" class="controls-area" hx-swap-oob="true">
    {% if next_visitor %}
        <button 
            hx-get="{% url 'call_next' queue.slug %}" 
            hx-swap="none"
            class="btn-app btn-primary-app">
            Pelawat Seterusnya ({{ next_visitor.ticket_number }})
        </button>
    {% else %}
        <a href="#" class="btn-app btn-primary-app disabled" style="background-color: #d1d5db; pointer-events: none;">
            Tiada Pelawat
        </a>
    {% endif %}

    <div class="action-grid">
        <button onclick="openNumberModal()" class="btn-app btn-secondary-app">Senarai</button>
        <button onclick="openAddModal()" class="btn-app btn-secondary-app">+ Tambah</button>
    </div>
    
    {% if current_serving %}
    <button onclick="showConfirmModal('{{ current_serving.id }}', '{{ current_serving.ticket_number }}')" class="btn-app btn-secondary-app text-danger border-danger">
        Kembali dalam Q
    </button>
    {% endif %}
    
    <div class="text-center mt-2">
        <button onclick="openRemoveModal()" style="background:none; border:none; color:#9ca3af; font-size:0.85rem; cursor:pointer;">
            Clear entire queue
        </button>
    </div>
</div>